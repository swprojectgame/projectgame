import random
from logic.room_manager import load_rooms  # âœ… rooms.json ë¶ˆëŸ¬ì˜¤ê¸°ìš©

# ðŸŽ² Death by AIì—ì„œ ì‚¬ìš©í•  ìœ„ê¸° ìƒí™© ë¦¬ìŠ¤íŠ¸
SITUATIONS = [
    "ì‚¬ìžê°€ ì«“ì•„ì˜¤ê³  ìžˆìŠµë‹ˆë‹¤.",
    "ì¢€ë¹„ê°€ ë²½ì„ ëš«ê³  ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.",
    "ë¹„í–‰ê¸°ì—ì„œ ë‚™í•˜ì‚° ì—†ì´ ë–¨ì–´ì¡ŒìŠµë‹ˆë‹¤.",
    "ê±´ë¬¼ì— ë¶ˆì´ ë‚¬ìŠµë‹ˆë‹¤.",
    "ìš°ì£¼ì„  ì‚°ì†Œê°€ ê³ ê°ˆë˜ê³  ìžˆìŠµë‹ˆë‹¤.",
    "ì§€ì§„ìœ¼ë¡œ ê±´ë¬¼ì´ ë¬´ë„ˆì§€ê³  ìžˆìŠµë‹ˆë‹¤.",
    "ê±°ëŒ€í•œ íƒ€ìž„ë£¨í”„ì— ê°‡í˜”ìŠµë‹ˆë‹¤.",
    "ë¡œë´‡ì´ ë°˜ëž€ì„ ì¼ìœ¼ì¼°ìŠµë‹ˆë‹¤.",
    "ë°”ë‹¤ í•œê°€ìš´ë°ì„œ ìƒì–´ ë–¼ë¥¼ ë§Œë‚¬ìŠµë‹ˆë‹¤.",
    "ëˆˆë®ì¸ ì‚°ì†ì— ê³ ë¦½ë˜ì—ˆìŠµë‹ˆë‹¤."
]

# âœ… ë¬´ìž‘ìœ„ë¡œ ìƒí™© í•˜ë‚˜ ë°˜í™˜
def get_random_situation():
    return random.choice(SITUATIONS)

# âœ… ê²Œìž„ ì¢…ë£Œ ì—¬ë¶€ íŒë‹¨
def is_game_over(code):
    rooms = load_rooms()
    if code in rooms:
        return rooms[code]["current_round"] > rooms[code]["total_rounds"]
    return True